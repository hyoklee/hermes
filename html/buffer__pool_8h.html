<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hermes: /home/runner/work/hermes/hermes/src/buffer_pool.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hermes
   &#160;<span id="projectnumber">0.5.0-beta</span>
   </div>
   <div id="projectbrief">I/O Buffering System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('buffer__pool_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">buffer_pool.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;hermes_types.h&quot;</code><br />
<code>#include &quot;hermes_status.h&quot;</code><br />
<code>#include &quot;<a class="el" href="memory__management_8h_source.html">memory_management.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="communication_8h_source.html">communication.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for buffer_pool.h:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8h__incl.png" border="0" usemap="#_2home_2runner_2work_2hermes_2hermes_2src_2buffer__pool_8h" alt=""/></div>
<map name="_2home_2runner_2work_2hermes_2hermes_2src_2buffer__pool_8h" id="_2home_2runner_2work_2hermes_2hermes_2src_2buffer__pool_8h">
<area shape="rect" title=" " alt="" coords="1805,5,2004,47"/>
<area shape="rect" title=" " alt="" coords="2192,781,2267,808"/>
<area shape="rect" title=" " alt="" coords="44,95,119,121"/>
<area shape="rect" href="stdio_8h_source.html" title=" " alt="" coords="991,95,1058,121"/>
<area shape="rect" title=" " alt="" coords="1095,856,1154,883"/>
<area shape="rect" title=" " alt="" coords="769,856,832,883"/>
<area shape="rect" href="hermes__types_8h_source.html" title=" " alt="" coords="1304,781,1430,808"/>
<area shape="rect" title=" " alt="" coords="176,856,236,883"/>
<area shape="rect" title=" " alt="" coords="2376,781,2443,808"/>
<area shape="rect" href="memory__management_8h.html" title=" " alt="" coords="2138,707,2321,733"/>
<area shape="rect" href="hermes__status_8h_source.html" title=" " alt="" coords="1354,483,1484,509"/>
<area shape="rect" href="communication_8h.html" title=" " alt="" coords="1808,632,1942,659"/>
<area shape="rect" title=" " alt="" coords="420,169,482,196"/>
<area shape="rect" title=" " alt="" coords="507,169,582,196"/>
<area shape="rect" title=" " alt="" coords="606,169,680,196"/>
<area shape="rect" title=" " alt="" coords="704,169,886,196"/>
<area shape="rect" title=" " alt="" coords="363,856,478,883"/>
<area shape="rect" href="hermes_8h_source.html" title=" " alt="" coords="1122,483,1228,509"/>
<area shape="rect" href="bucket_8h_source.html" title=" " alt="" coords="1406,333,1507,360"/>
<area shape="rect" href="vbucket_8h_source.html" title=" " alt="" coords="220,333,330,360"/>
<area shape="rect" href="stdio_2constants_8h_source.html" title=" " alt="" coords="1300,251,1397,278"/>
<area shape="rect" href="interceptor_8h_source.html" title=" " alt="" coords="832,251,936,278"/>
<area shape="rect" href="singleton_8h_source.html" title=" " alt="" coords="1012,333,1106,360"/>
<area shape="rect" href="stdio_2datastructures_8h_source.html" title=" " alt="" coords="1550,251,1714,278"/>
<area shape="rect" href="stdio_2mapper_2mapper__factory_8h_source.html" title=" " alt="" coords="1062,244,1224,285"/>
<area shape="rect" href="stdio_2metadata__manager_8h_source.html" title=" " alt="" coords="1112,169,1310,196"/>
<area shape="rect" title=" " alt="" coords="990,557,1056,584"/>
<area shape="rect" title=" " alt="" coords="1080,557,1123,584"/>
<area shape="rect" title=" " alt="" coords="1399,557,1479,584"/>
<area shape="rect" href="metadata__management_8h_source.html" title=" " alt="" coords="1966,632,2157,659"/>
<area shape="rect" href="rpc_8h_source.html" title=" " alt="" coords="1148,557,1202,584"/>
<area shape="rect" href="id_8h_source.html" title=" " alt="" coords="1226,557,1273,584"/>
<area shape="rect" title=" " alt="" coords="1341,856,1412,883"/>
<area shape="rect" title=" " alt="" coords="1436,856,1522,883"/>
<area shape="rect" title=" " alt="" coords="1178,856,1316,883"/>
<area shape="rect" title=" " alt="" coords="822,408,899,435"/>
<area shape="rect" title=" " alt="" coords="922,483,1046,509"/>
<area shape="rect" href="data__placement__engine_8h_source.html" title=" " alt="" coords="1422,408,1613,435"/>
<area shape="rect" href="utils_8h.html" title=" " alt="" coords="1732,707,1794,733"/>
<area shape="rect" title=" " alt="" coords="315,408,358,435"/>
<area shape="rect" href="traits_8h_source.html" title=" " alt="" coords="1126,408,1194,435"/>
<area shape="rect" title=" " alt="" coords="1316,333,1381,360"/>
<area shape="rect" href="stdio_2enumerations_8h_source.html" title=" " alt="" coords="1131,333,1291,360"/>
<area shape="rect" title=" " alt="" coords="404,333,471,360"/>
<area shape="rect" title=" " alt="" coords="496,333,566,360"/>
<area shape="rect" title=" " alt="" coords="590,333,664,360"/>
<area shape="rect" title=" " alt="" coords="688,333,803,360"/>
<area shape="rect" title=" " alt="" coords="827,333,886,360"/>
<area shape="rect" href="buffer__pool__internal_8h.html" title=" " alt="" coords="2106,333,2270,360"/>
<area shape="rect" href="constants_8h_source.html" title=" " alt="" coords="170,632,268,659"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8h__dep__incl.png" border="0" usemap="#_2home_2runner_2work_2hermes_2hermes_2src_2buffer__pool_8hdep" alt=""/></div>
<map name="_2home_2runner_2work_2hermes_2hermes_2src_2buffer__pool_8hdep" id="_2home_2runner_2work_2hermes_2hermes_2src_2buffer__pool_8hdep">
<area shape="rect" title=" " alt="" coords="1119,5,1318,47"/>
<area shape="rect" href="mpiio_2datastructures_8h_source.html" title=" " alt="" coords="43,563,323,605"/>
<area shape="rect" href="posix_2datastructures_8h_source.html" title=" " alt="" coords="537,563,815,605"/>
<area shape="rect" href="pubsub_2datastructures_8h_source.html" title=" " alt="" coords="839,556,1038,612"/>
<area shape="rect" href="stdio_2datastructures_8h_source.html" title=" " alt="" coords="1725,563,2000,605"/>
<area shape="rect" href="buffer__pool_8cc.html" title=" " alt="" coords="2349,1061,2547,1103"/>
<area shape="rect" href="hermes_8h_source.html" title=" " alt="" coords="1119,273,1318,315"/>
<area shape="rect" href="buffer__pool__internal_8h.html" title=" " alt="" coords="2275,660,2474,716"/>
<area shape="rect" href="metadata__management_8h_source.html" title=" " alt="" coords="910,95,1181,136"/>
<area shape="rect" href="mpiio_2mapper_2abstract__mapper_8h_source.html" title=" " alt="" coords="71,660,295,716"/>
<area shape="rect" href="mpiio_2metadata__manager_8h_source.html" title=" " alt="" coords="1011,868,1248,924"/>
<area shape="rect" href="mpiio_2mapper_2balanced__mapper_8h_source.html" title=" " alt="" coords="43,764,267,820"/>
<area shape="rect" href="mpiio_2mapper_2mapper__factory_8h_source.html" title=" " alt="" coords="93,868,317,924"/>
<area shape="rect" href="mpiio_8h_source.html" title=" " alt="" coords="294,972,517,1013"/>
<area shape="rect" href="posix_2mapper_2abstract__mapper_8h_source.html" title=" " alt="" coords="442,660,665,716"/>
<area shape="rect" href="posix_8h_source.html" title=" " alt="" coords="779,972,997,1013"/>
<area shape="rect" href="posix_2metadata__manager_8h_source.html" title=" " alt="" coords="1323,868,1557,924"/>
<area shape="rect" href="posix_2mapper_2balanced__mapper_8h_source.html" title=" " alt="" coords="442,764,665,820"/>
<area shape="rect" href="posix_2mapper_2mapper__factory_8h_source.html" title=" " alt="" coords="442,868,665,924"/>
<area shape="rect" href="pubsub_2metadata__manager_8h_source.html" title=" " alt="" coords="839,660,1038,716"/>
<area shape="rect" href="pubsub_8h_source.html" title=" " alt="" coords="1009,764,1207,820"/>
<area shape="rect" href="stdio_2mapper_2abstract__mapper_8h_source.html" title=" " alt="" coords="1932,660,2151,716"/>
<area shape="rect" href="stdio_8h_source.html" title=" " alt="" coords="1947,972,2160,1013"/>
<area shape="rect" href="stdio_2metadata__manager_8h_source.html" title=" " alt="" coords="1733,868,1965,924"/>
<area shape="rect" href="stdio_2mapper_2balanced__mapper_8h_source.html" title=" " alt="" coords="1963,764,2181,820"/>
<area shape="rect" href="stdio_2mapper_2mapper__factory_8h_source.html" title=" " alt="" coords="2091,868,2309,924"/>
<area shape="rect" href="bucket_8h_source.html" title=" " alt="" coords="839,467,1038,508"/>
<area shape="rect" href="traits_8h_source.html" title=" " alt="" coords="1433,467,1631,508"/>
<area shape="rect" href="vbucket_8h_source.html" title=" " alt="" coords="789,875,987,917"/>
<area shape="rect" href="data__placement__engine_8h_source.html" title=" " alt="" coords="949,363,1155,419"/>
<area shape="rect" href="interceptor_8h_source.html" title=" " alt="" coords="1538,771,1753,813"/>
<area shape="rect" href="rpc_8h_source.html" title=" " alt="" coords="1255,184,1454,225"/>
</map>
</div>
</div>
<p><a href="buffer__pool_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhermes_1_1_device.html">hermes::Device</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhermes_1_1_target.html">hermes::Target</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionhermes_1_1_buffer_i_d.html">hermes::BufferID</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhermes_1_1_buffer_id_hash.html">hermes::BufferIdHash</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhermes_1_1_shmem_client_info.html">hermes::ShmemClientInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhermes_1_1_buffer_header.html">hermes::BufferHeader</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhermes_1_1_buffer_pool.html">hermes::BufferPool</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhermes_1_1_shared_memory_context.html">hermes::SharedMemoryContext</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhermes_1_1_blob.html">hermes::Blob</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhermes_1_1_swap_blob.html">hermes::SwapBlob</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a22c98bca84c4e7d31662e8eae85bf2ec"><td class="memItemLeft" align="right" valign="top"><a id="a22c98bca84c4e7d31662e8eae85bf2ec"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>SwapBlobMembers</b> { <br />
&#160;&#160;<b>SwapBlobMembers_NodeId</b>, 
<b>SwapBlobMembers_Offset</b>, 
<b>SwapBlobMembers_Size</b>, 
<b>SwapBlobMembers_BucketId</b>, 
<br />
&#160;&#160;<b>SwapBlobMembers_Count</b>
<br />
 }</td></tr>
<tr class="separator:a22c98bca84c4e7d31662e8eae85bf2ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5b285bc4a6d19044b6eead181c18b4df"><td class="memItemLeft" align="right" valign="top"><a id="a5b285bc4a6d19044b6eead181c18b4df"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::operator==</b> (const BufferID &amp;lhs, const BufferID &amp;rhs)</td></tr>
<tr class="separator:a5b285bc4a6d19044b6eead181c18b4df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab48b9ac0695e2cdf1ae998d40e64d86f"><td class="memItemLeft" align="right" valign="top"><a id="ab48b9ac0695e2cdf1ae998d40e64d86f"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetBlobSize</b> (SharedMemoryContext *context, RpcContext *rpc, BufferIdArray *buffer_ids)</td></tr>
<tr class="separator:ab48b9ac0695e2cdf1ae998d40e64d86f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1bf3c14edcfd90fa50cbe61cd50b07a"><td class="memItemLeft" align="right" valign="top"><a id="af1bf3c14edcfd90fa50cbe61cd50b07a"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetBlobSizeById</b> (SharedMemoryContext *context, RpcContext *rpc, Arena *arena, BlobID blob_id)</td></tr>
<tr class="separator:af1bf3c14edcfd90fa50cbe61cd50b07a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93572ab14ec8c48e304fbdfc25cab81d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a93572ab14ec8c48e304fbdfc25cab81d">hermes::MakeFullShmemName</a> (char *dest, const char *base)</td></tr>
<tr class="separator:a93572ab14ec8c48e304fbdfc25cab81d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac40167a06e73b893a492c3708bc94556"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#ac40167a06e73b893a492c3708bc94556">hermes::InitFilesForBuffering</a> (SharedMemoryContext *context, CommunicationContext &amp;comm)</td></tr>
<tr class="separator:ac40167a06e73b893a492c3708bc94556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f1ab38db8aaf13dfe38fa1e77e9a4ac"><td class="memItemLeft" align="right" valign="top">SharedMemoryContext&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a5f1ab38db8aaf13dfe38fa1e77e9a4ac">hermes::GetSharedMemoryContext</a> (char *shmem_name)</td></tr>
<tr class="separator:a5f1ab38db8aaf13dfe38fa1e77e9a4ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f5a7088d0c67afec779b03060291180"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a7f5a7088d0c67afec779b03060291180">hermes::ReleaseSharedMemoryContext</a> (SharedMemoryContext *context)</td></tr>
<tr class="separator:a7f5a7088d0c67afec779b03060291180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8330d4c1cab36eddd4085af9cdfb4e58"><td class="memItemLeft" align="right" valign="top"><a id="a8330d4c1cab36eddd4085af9cdfb4e58"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::UnmapSharedMemory</b> (SharedMemoryContext *context)</td></tr>
<tr class="separator:a8330d4c1cab36eddd4085af9cdfb4e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3789d75221354e09f43fe8d1520b988"><td class="memItemLeft" align="right" valign="top">std::vector&lt; BufferID &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#ae3789d75221354e09f43fe8d1520b988">hermes::GetBuffers</a> (SharedMemoryContext *context, const PlacementSchema &amp;schema)</td></tr>
<tr class="separator:ae3789d75221354e09f43fe8d1520b988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fdaa605948d7982a2b0e046c452f84f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a4fdaa605948d7982a2b0e046c452f84f">hermes::ReleaseBuffers</a> (SharedMemoryContext *context, RpcContext *rpc, const std::vector&lt; BufferID &gt; &amp;buffer_ids)</td></tr>
<tr class="separator:a4fdaa605948d7982a2b0e046c452f84f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c4800d221eba314a545fd5aa749d44f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8h.html#a7c4800d221eba314a545fd5aa749d44f">hermes::StartBufferPoolRpcServer</a> (SharedMemoryContext *context, const char *addr, i32 num_rpc_threads)</td></tr>
<tr class="separator:a7c4800d221eba314a545fd5aa749d44f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba276e3158ce278c8b895b936678b255"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#aba276e3158ce278c8b895b936678b255">hermes::Finalize</a> (SharedMemoryContext *context, CommunicationContext *comm, RpcContext *rpc, const char *shmem_name, Arena *trans_arena, bool is_application_core, bool force_rpc_shutdown)</td></tr>
<tr class="separator:aba276e3158ce278c8b895b936678b255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9163d10dd9f730c3bb00fb480138c6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#ad9163d10dd9f730c3bb00fb480138c6c">hermes::WriteBlobToBuffers</a> (SharedMemoryContext *context, RpcContext *rpc, const Blob &amp;blob, const std::vector&lt; BufferID &gt; &amp;buffer_ids)</td></tr>
<tr class="separator:ad9163d10dd9f730c3bb00fb480138c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4f47163aad622261948bedd86b7affc"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#ad4f47163aad622261948bedd86b7affc">hermes::ReadBlobFromBuffers</a> (SharedMemoryContext *context, RpcContext *rpc, Blob *blob, BufferIdArray *buffer_ids, u32 *buffer_sizes)</td></tr>
<tr class="separator:ad4f47163aad622261948bedd86b7affc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383e20804170247bef4fc7e45a601bd2"><td class="memItemLeft" align="right" valign="top"><a id="a383e20804170247bef4fc7e45a601bd2"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::ReadBlobById</b> (SharedMemoryContext *context, RpcContext *rpc, Arena *arena, Blob blob, BlobID blob_id)</td></tr>
<tr class="separator:a383e20804170247bef4fc7e45a601bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23bc1660b2c36fc0816cfa9629eb9d02"><td class="memItemLeft" align="right" valign="top"><a id="a23bc1660b2c36fc0816cfa9629eb9d02"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::ReadBlobById</b> (SharedMemoryContext *context, RpcContext *rpc, Arena *arena, api::Blob &amp;dest, BlobID blob_id)</td></tr>
<tr class="separator:a23bc1660b2c36fc0816cfa9629eb9d02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37e9aec4559db6260d63837f57224415"><td class="memItemLeft" align="right" valign="top"><a id="a37e9aec4559db6260d63837f57224415"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::LocalWriteBufferById</b> (SharedMemoryContext *context, BufferID id, const Blob &amp;blob, size_t offset)</td></tr>
<tr class="separator:a37e9aec4559db6260d63837f57224415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a043c08df39923cd850f99085720549f3"><td class="memItemLeft" align="right" valign="top"><a id="a043c08df39923cd850f99085720549f3"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::LocalReadBufferById</b> (SharedMemoryContext *context, BufferID id, Blob *blob, size_t read_offset)</td></tr>
<tr class="separator:a043c08df39923cd850f99085720549f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54ca273e5e4837d879b749645ba6d83f"><td class="memItemLeft" align="right" valign="top"><a id="a54ca273e5e4837d879b749645ba6d83f"></a>
SwapBlob&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::PutToSwap</b> (SharedMemoryContext *context, RpcContext *rpc, const std::string &amp;name, BucketID bucket_id, const u8 *data, size_t size)</td></tr>
<tr class="separator:a54ca273e5e4837d879b749645ba6d83f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ef629f773dcff448648ca2657c9fe2"><td class="memTemplParams" colspan="2"><a id="a46ef629f773dcff448648ca2657c9fe2"></a>
template&lt;typename T &gt; </td></tr>
<tr class="memitem:a46ef629f773dcff448648ca2657c9fe2"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; SwapBlob &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>hermes::PutToSwap</b> (SharedMemoryContext *context, RpcContext *rpc, BucketID id, std::vector&lt; std::vector&lt; T &gt;&gt; &amp;blobs, std::vector&lt; std::string &gt; &amp;names)</td></tr>
<tr class="separator:a46ef629f773dcff448648ca2657c9fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab15d1c233fd19870be47076dbbe4a3bd"><td class="memItemLeft" align="right" valign="top"><a id="ab15d1c233fd19870be47076dbbe4a3bd"></a>
SwapBlob&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::WriteToSwap</b> (SharedMemoryContext *context, Blob blob, BlobID blob_id, BucketID bucket_id)</td></tr>
<tr class="separator:ab15d1c233fd19870be47076dbbe4a3bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90b2ac6f6b32dab62d7ad2d4dfc93bc6"><td class="memItemLeft" align="right" valign="top"><a id="a90b2ac6f6b32dab62d7ad2d4dfc93bc6"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::ReadFromSwap</b> (SharedMemoryContext *context, Blob blob, SwapBlob swap_blob)</td></tr>
<tr class="separator:a90b2ac6f6b32dab62d7ad2d4dfc93bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a03c2aa41e4113f2ef9e0d877c15b2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; f32 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a02a03c2aa41e4113f2ef9e0d877c15b2">hermes::GetBandwidths</a> (SharedMemoryContext *context, const std::vector&lt; TargetID &gt; &amp;targets)</td></tr>
<tr class="separator:a02a03c2aa41e4113f2ef9e0d877c15b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ccce9fc36a8bca80e5146c5c86a6ea9"><td class="memItemLeft" align="right" valign="top"><a id="a2ccce9fc36a8bca80e5146c5c86a6ea9"></a>
u32&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetNumBuffersAvailable</b> (SharedMemoryContext *context, DeviceID device_id)</td></tr>
<tr class="separator:a2ccce9fc36a8bca80e5146c5c86a6ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3043cc2a65467f9910d9a3e7e740b96"><td class="memItemLeft" align="right" valign="top"><a id="af3043cc2a65467f9910d9a3e7e740b96"></a>
u32&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetBufferSize</b> (SharedMemoryContext *context, RpcContext *rpc, BufferID id)</td></tr>
<tr class="separator:af3043cc2a65467f9910d9a3e7e740b96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a119acdbc67271182db4d36ebe76c07bc"><td class="memItemLeft" align="right" valign="top"><a id="a119acdbc67271182db4d36ebe76c07bc"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::BufferIsByteAddressable</b> (SharedMemoryContext *context, BufferID id)</td></tr>
<tr class="separator:a119acdbc67271182db4d36ebe76c07bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa39f804b689f65b750a959e55f56f731"><td class="memItemLeft" align="right" valign="top"><a id="aa39f804b689f65b750a959e55f56f731"></a>
Status&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::PlaceInHierarchy</b> (SharedMemoryContext *context, RpcContext *rpc, SwapBlob swap_blob, const std::string &amp;name, const api::Context &amp;ctx)</td></tr>
<tr class="separator:aa39f804b689f65b750a959e55f56f731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a162e1bfac8a276d2b948f2b4b1d61602"><td class="memItemLeft" align="right" valign="top"><a id="a162e1bfac8a276d2b948f2b4b1d61602"></a>
<a class="el" href="classapi_1_1_status.html">api::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::PlaceBlob</b> (SharedMemoryContext *context, RpcContext *rpc, PlacementSchema &amp;schema, Blob blob, const std::string &amp;name, BucketID bucket_id, const api::Context &amp;ctx, bool called_from_buffer_organizer)</td></tr>
<tr class="separator:a162e1bfac8a276d2b948f2b4b1d61602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b6483960796606246f5fec88bf31bd3"><td class="memItemLeft" align="right" valign="top"><a id="a7b6483960796606246f5fec88bf31bd3"></a>
<a class="el" href="classapi_1_1_status.html">api::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::StdIoPersistBucket</b> (SharedMemoryContext *context, RpcContext *rpc, Arena *arena, BucketID bucket_id, const std::string &amp;file_name, const std::string &amp;open_mode)</td></tr>
<tr class="separator:a7b6483960796606246f5fec88bf31bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96f06dbb6de74a3a1488bd1dc9279629"><td class="memItemLeft" align="right" valign="top"><a id="a96f06dbb6de74a3a1488bd1dc9279629"></a>
<a class="el" href="classapi_1_1_status.html">api::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::StdIoPersistBlob</b> (SharedMemoryContext *context, RpcContext *rpc, Arena *arena, BlobID blob_id, int fd, const i32 &amp;offset)</td></tr>
<tr class="separator:a96f06dbb6de74a3a1488bd1dc9279629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b3735eb879e8536abfe576c3750f4aa"><td class="memItemLeft" align="right" valign="top"><a id="a3b3735eb879e8536abfe576c3750f4aa"></a>
Device *&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetDeviceFromHeader</b> (SharedMemoryContext *context, BufferHeader *header)</td></tr>
<tr class="separator:a3b3735eb879e8536abfe576c3750f4aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The public structures and functions for interacting with the BufferPool as a client. The interface includes hermes-specific application core intialization, and the API through which the RoundRobinState and BufferOrganizer interact with the BufferPool. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aba276e3158ce278c8b895b936678b255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba276e3158ce278c8b895b936678b255">&#9670;&nbsp;</a></span>Finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::Finalize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_communication_context.html">CommunicationContext</a> *&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_rpc_context.html">RpcContext</a> *&#160;</td>
          <td class="paramname"><em>rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>shmem_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_arena.html">Arena</a> *&#160;</td>
          <td class="paramname"><em>trans_arena</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_application_core</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force_rpc_shutdown</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free all resources held by Hermes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The Hermes instance's shared memory context. </td></tr>
    <tr><td class="paramname">comm</td><td>The Hermes instance's communication context. </td></tr>
    <tr><td class="paramname">rpc</td><td>The Hermes instance's RPC context. </td></tr>
    <tr><td class="paramname">shmem_name</td><td>The name of the shared memory. </td></tr>
    <tr><td class="paramname">trans_arena</td><td>The instance's transient arena. </td></tr>
    <tr><td class="paramname">is_application_core</td><td>Whether or not this rank is an app rank. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_cgraph.png" border="0" usemap="#buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_cgraph" id="buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,135,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_icgraph.png" border="0" usemap="#buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_icgraph" id="buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_icgraph">
<area shape="rect" title=" " alt="" coords="212,29,341,56"/>
<area shape="rect" href="classhermes_1_1api_1_1_hermes.html#a37a6512a0d20bf8ed0e5c2ef4238d807" title=" " alt="" coords="5,22,164,63"/>
</map>
</div>

</div>
</div>
<a id="a02a03c2aa41e4113f2ef9e0d877c15b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02a03c2aa41e4113f2ef9e0d877c15b2">&#9670;&nbsp;</a></span>GetBandwidths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; f32 &gt; hermes::GetBandwidths </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="unionhermes_1_1_target_i_d.html">TargetID</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>targets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a vector of bandwidths in MiB per second for a given Target list.</p>
<p>Element <code>n</code> of the result is the bandwidth of the Device that backs the <code>nth</code> element of <code>targets</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context needed to access BufferPool info. </td></tr>
    <tr><td class="paramname">targets</td><td>The list of targets for which to retrieve bandwidth info.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The list of bandwidths, one for each target in <code>targets</code>, in MiB/sec. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_cgraph.png" border="0" usemap="#buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_cgraph" id="buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,184,63"/>
<area shape="rect" href="buffer__pool_8cc.html#a8e0bec74072dacfc57b528846445e446" title=" " alt="" coords="232,37,408,63"/>
<area shape="rect" href="buffer__pool_8cc.html#a3a16d19dbc6aa057e14961538cd3d933" title=" " alt="" coords="456,29,659,71"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_icgraph.png" border="0" usemap="#buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_icgraph" id="buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,184,56"/>
</map>
</div>

</div>
</div>
<a id="ae3789d75221354e09f43fe8d1520b988"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3789d75221354e09f43fe8d1520b988">&#9670;&nbsp;</a></span>GetBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; BufferID &gt; hermes::GetBuffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const PlacementSchema &amp;&#160;</td>
          <td class="paramname"><em>schema</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a vector of BufferIDs that satisfy the constrains of <code>schema</code>.</p>
<p>If a request cannot be fulfilled, an empty list is returned. GetBuffers will never partially satisfy a request. It is all or nothing. If <code>schema</code> includes a remote Device, this function will make an RPC call to get BufferIDs from a remote node.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context for the BufferPool. </td></tr>
    <tr><td class="paramname">schema</td><td>A description of the amount and Device of storage requested.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of BufferIDs that can be used for storage, and that satisfy <code>schema</code>, or an empty vector if the request could not be fulfilled. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_cgraph.png" border="0" usemap="#buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_cgraph" id="buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,153,63"/>
<area shape="rect" href="buffer__pool_8cc.html#a3a16d19dbc6aa057e14961538cd3d933" title=" " alt="" coords="201,29,404,71"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_icgraph.png" border="0" usemap="#buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_icgraph" id="buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,153,56"/>
</map>
</div>

</div>
</div>
<a id="a5f1ab38db8aaf13dfe38fa1e77e9a4ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f1ab38db8aaf13dfe38fa1e77e9a4ac">&#9670;&nbsp;</a></span>GetSharedMemoryContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SharedMemoryContext hermes::GetSharedMemoryContext </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>shmem_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves information required for accessing the BufferPool shared memory.</p>
<p>Maps an existing shared memory segment into the calling process's address space. Application cores will call this function, and the Hermes core initialization will have already created the shared memory segment. Application cores can then use the context to access the BufferPool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">shmem_name</td><td>The name of the shared memory segment.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The shared memory context required to access the BufferPool. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_cgraph.png" border="0" usemap="#buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_cgraph" id="buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,257,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_icgraph.png" border="0" usemap="#buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_icgraph" id="buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,257,56"/>
</map>
</div>

</div>
</div>
<a id="ac40167a06e73b893a492c3708bc94556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac40167a06e73b893a492c3708bc94556">&#9670;&nbsp;</a></span>InitFilesForBuffering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::InitFilesForBuffering </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_communication_context.html">CommunicationContext</a> &amp;&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO Creates and opens all files that will be used for buffering. Stores open FILE pointers in the <code>context</code>. The file buffering paradaigm uses one file per slab for each Device. If <code>posix_fallocate</code> is available, and <code>make_space</code> is <code>true</code>, each file's capacity is reserved. Otherwise, the files will be initialized with 0 size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The SharedMemoryContext in which to store the opened FILE pointers. </td></tr>
    <tr><td class="paramname">make_space</td><td>If true, attempts to reserve space on the * filesystem for each file. </td></tr>
    <tr><td class="paramname">node_id</td><td>The node id, used for shared devices. </td></tr>
    <tr><td class="paramname">first_on_node</td><td>True if this rank is sequentially the first on the node </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_cgraph.png" border="0" usemap="#buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_cgraph" id="buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,215,63"/>
<area shape="rect" href="buffer__pool_8cc.html#a3a16d19dbc6aa057e14961538cd3d933" title=" " alt="" coords="487,29,689,71"/>
<area shape="rect" href="buffer__pool_8cc.html#a8e0bec74072dacfc57b528846445e446" title=" " alt="" coords="263,74,439,101"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_icgraph.png" border="0" usemap="#buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_icgraph" id="buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,215,56"/>
</map>
</div>

</div>
</div>
<a id="a93572ab14ec8c48e304fbdfc25cab81d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93572ab14ec8c48e304fbdfc25cab81d">&#9670;&nbsp;</a></span>MakeFullShmemName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::MakeFullShmemName </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs a unique (among users) shared memory name from a base name.</p>
<p>Copies the base name into the dest buffer and appends the value of the USER envioronment variable. The dest buffer should be large enough to hold the base name and the value of USER.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dest</td><td>A buffer for the full shared memory name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">base</td><td>The base shared memory name. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_cgraph.png" border="0" usemap="#buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_cgraph" id="buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,232,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_icgraph.png" border="0" usemap="#buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_icgraph" id="buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,232,56"/>
</map>
</div>

</div>
</div>
<a id="ad4f47163aad622261948bedd86b7affc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4f47163aad622261948bedd86b7affc">&#9670;&nbsp;</a></span>ReadBlobFromBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t hermes::ReadBlobFromBuffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_rpc_context.html">RpcContext</a> *&#160;</td>
          <td class="paramname"><em>rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_blob.html">Blob</a> *&#160;</td>
          <td class="paramname"><em>blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_buffer_id_array.html">BufferIdArray</a> *&#160;</td>
          <td class="paramname"><em>buffer_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32 *&#160;</td>
          <td class="paramname"><em>buffer_sizes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sketch of how an I/O client might read.</p>
<p>Reads the collection of buffer_ids into blob. The BufferIDs inform the call whether it is reading locally, remotely, from RAM (or a byte addressable Device) or to a file (block addressable Device).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context needed to access BufferPool info. </td></tr>
    <tr><td class="paramname">rpc</td><td>The RPC context needed to make a remote call if necessary. </td></tr>
    <tr><td class="paramname">blob</td><td>A place to store the read data. </td></tr>
    <tr><td class="paramname">buffer_ids</td><td>The collection of BufferIDs that hold the buffered blob. </td></tr>
    <tr><td class="paramname">buffer_sizes</td><td>A list of sizes that correspond to each buffer in <code>buffer_ids</code>. Its length is the length of <code>buffer_ids</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The total number of bytes read </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_cgraph.png" border="0" usemap="#buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_cgraph" id="buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,225,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_icgraph.png" border="0" usemap="#buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_icgraph" id="buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,225,56"/>
</map>
</div>

</div>
</div>
<a id="a4fdaa605948d7982a2b0e046c452f84f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fdaa605948d7982a2b0e046c452f84f">&#9670;&nbsp;</a></span>ReleaseBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::ReleaseBuffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_rpc_context.html">RpcContext</a> *&#160;</td>
          <td class="paramname"><em>rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="unionhermes_1_1_buffer_i_d.html">BufferID</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>buffer_ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns buffer_ids to the BufferPool free lists so that they can be used again. Data in the buffers is considered abandonded, and can be overwritten.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context where the BufferPool lives. </td></tr>
    <tr><td class="paramname">rpc</td><td>The RPC context to enable a remote call if necessary. </td></tr>
    <tr><td class="paramname">buffer_ids</td><td>The list of buffer_ids to return to the BufferPool. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_cgraph.png" border="0" usemap="#buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_cgraph" id="buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,183,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_icgraph.png" border="0" usemap="#buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_icgraph" id="buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,183,56"/>
</map>
</div>

</div>
</div>
<a id="a7f5a7088d0c67afec779b03060291180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f5a7088d0c67afec779b03060291180">&#9670;&nbsp;</a></span>ReleaseSharedMemoryContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::ReleaseSharedMemoryContext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unmaps the shared memory represented by context and closes any open file descriptors</p>
<p>This isn't strictly necessary, since the segment will be unmapped when the process exits and the file descriptors will be closed, but is here for completeness.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory to unmap. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_cgraph.png" border="0" usemap="#buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_cgraph" id="buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,236,71"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_icgraph.png" border="0" usemap="#buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_icgraph" id="buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,236,71"/>
</map>
</div>

</div>
</div>
<a id="a7c4800d221eba314a545fd5aa749d44f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c4800d221eba314a545fd5aa749d44f">&#9670;&nbsp;</a></span>StartBufferPoolRpcServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::StartBufferPoolRpcServer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i32&#160;</td>
          <td class="paramname"><em>num_rpc_threads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts an RPC server that will listen for remote requests directed to the BufferPool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context where the BufferPool lives. </td></tr>
    <tr><td class="paramname">addr</td><td>The address and port where the RPC server will listen. This address must be a compatible with whatever the RPC implementation is. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad9163d10dd9f730c3bb00fb480138c6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9163d10dd9f730c3bb00fb480138c6c">&#9670;&nbsp;</a></span>WriteBlobToBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::WriteBlobToBuffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_rpc_context.html">RpcContext</a> *&#160;</td>
          <td class="paramname"><em>rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structhermes_1_1_blob.html">Blob</a> &amp;&#160;</td>
          <td class="paramname"><em>blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="unionhermes_1_1_buffer_i_d.html">BufferID</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>buffer_ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sketch of how an I/O client might write.</p>
<p>Writes the blob to the collection of buffer_ids. The BufferIDs inform the call whether it is writing locally, remotely, to RAM (or a byte addressable Device) or to a file (block addressable Device).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context needed to access BufferPool info. </td></tr>
    <tr><td class="paramname">blob</td><td>The data to write. </td></tr>
    <tr><td class="paramname">buffer_ids</td><td>The collection of BufferIDs that should buffer the blob. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_cgraph.png" border="0" usemap="#buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_cgraph" id="buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,208,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_icgraph.png" border="0" usemap="#buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_icgraph" id="buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,208,56"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="buffer__pool_8h.html">buffer_pool.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
